{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["//functions for HTTP запитів\nimport axios from \"axios\";\n\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\naxios.defaults.params = {\n  key: \"52056130-db9fbcb72f3bb5afb21255a47\",\n  image_type: \"photo\",\n  orientation: \"horizontal\",\n  safesearch: true,\n};\n\nexport default function getImageByQuery(query) {\n  return axios\n    .get(\"\", { params: { q: query } })\n    .then((response) => response.data.hits);\n}","import SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\nlet lightbox = null;\n\nexport function createGallery(images) {\n  const htmlToInsert = images\n    .map(\n      (image) =>\n        `<div class=\"card\">\n              <a href=${image.largeImageURL}><img src=\"${image.webformatURL}\" alt=\"${image.tags}\" class=\"gallery-images\"></a>\n              <div class=\"info\">\n                <p class=\"name\">Likes<span class=\"value\">${image.likes}</span></p>\n                <p class=\"name\">Views<span class=\"value\">${image.views}</span></p>\n                <p class=\"name\">Comments<span class=\"value\">${image.comments}</span></p>\n                <p class=\"name\">Downloads<span class=\"value\">${image.downloads}</span></p>\n              </div>\n            </div>`\n    )\n    .join(\"\");\n  gallery.insertAdjacentHTML(\"beforeend\", htmlToInsert);\n\n  if (!lightbox) {\n    lightbox = new SimpleLightbox(\".gallery a\", {\n      captionsData: \"alt\",\n      captionDelay: 250,\n    });\n  } else {\n    lightbox.refresh();\n  }\n}\n\nexport function clearGallery() {\n  gallery.innerHTML = \"\";\n  //очищає вміст контейнера галереї. нічого не повертає\n}\n\nexport function showLoader() {\n  loader.classList.add(\"is-visible\");\n  //додає клас для відображення лоадера. нічого не повертає\n}\n\nexport function hideLoader() {\n  loader.classList.remove(\"is-visible\");\n  //прибирає клас для відображення лоадера. нічого не повертає\n}","import getImageByQuery from \"./js/pixabay-api\";\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from \"./js/render-functions\";\n\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst searchInput = document.querySelector(\".search-input\");\nconst form = document.querySelector(\".form\");\n\nform.addEventListener(\"submit\", (event) => {\n  event.preventDefault();\n  clearGallery();\n\n  if (!searchInput.value) {\n    alert(\"Введіть слово для пошуку\");\n    return;\n  }\n  showLoader();\n  const query = searchInput.value.toLowerCase();\n  //query - пошукове слово, РЯДОК// 1) робимо  ннтп запит і повертаємо значення властивості data з отриманої відповіді сервера\n  getImageByQuery(query)\n    .then((images) => {\n      if (images.length === 0) {\n        iziToast.error({\n          title: \"Oops\",\n           message:\n            \"Sorry, there are no images matching your search query. Please try again!\",\n          position: \"topRight\",\n        });\n        return;\n      }\n      createGallery(images);\n    })\n    .catch((err) => {\n      console.error(err);\n      iziToast.error({\n        title: \"Error\",\n        message: \"Something went wrong. Try again later!\",\n        position: \"topRight\",\n      });\n    })\n    .finally(() => {\n      // Сховати лоадер після завершення запиту\n      hideLoader();\n    });\n});"],"names":["axios","getImageByQuery","query","response","gallery","loader","lightbox","createGallery","images","htmlToInsert","image","SimpleLightbox","clearGallery","showLoader","hideLoader","searchInput","form","event","iziToast","err"],"mappings":"owBAGAA,EAAM,SAAS,QAAU,2BACzBA,EAAM,SAAS,OAAS,CACtB,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,EACd,EAEe,SAASC,EAAgBC,EAAO,CAC7C,OAAOF,EACJ,IAAI,GAAI,CAAE,OAAQ,CAAE,EAAGE,CAAK,EAAI,EAChC,KAAMC,GAAaA,EAAS,KAAK,IAAI,CAC1C,CCZA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAC/C,IAAIC,EAAW,KAER,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAeD,EAClB,IACEE,GACC;AAAA,wBACgBA,EAAM,aAAa,cAAcA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,2DAEpCA,EAAM,KAAK;AAAA,2DACXA,EAAM,KAAK;AAAA,8DACRA,EAAM,QAAQ;AAAA,+DACbA,EAAM,SAAS;AAAA;AAAA,mBAGzE,EACA,KAAK,EAAE,EACVN,EAAQ,mBAAmB,YAAaK,CAAY,EAE/CH,EAMHA,EAAS,QAAO,EALhBA,EAAW,IAAIK,EAAe,aAAc,CAC1C,aAAc,MACd,aAAc,GACpB,CAAK,CAIL,CAEO,SAASC,GAAe,CAC7BR,EAAQ,UAAY,EAEtB,CAEO,SAASS,GAAa,CAC3BR,EAAO,UAAU,IAAI,YAAY,CAEnC,CAEO,SAASS,GAAa,CAC3BT,EAAO,UAAU,OAAO,YAAY,CAEtC,CCnCA,MAAMU,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAWC,GAAU,CAIzC,GAHAA,EAAM,eAAc,EACpBL,IAEI,CAACG,EAAY,MAAO,CACtB,MAAM,0BAA0B,EAChC,MACD,CACDF,IACA,MAAMX,EAAQa,EAAY,MAAM,YAAW,EAE3Cd,EAAgBC,CAAK,EAClB,KAAMM,GAAW,CAChB,GAAIA,EAAO,SAAW,EAAG,CACvBU,EAAS,MAAM,CACb,MAAO,OACN,QACC,2EACF,SAAU,UACpB,CAAS,EACD,MACD,CACDX,EAAcC,CAAM,CAC1B,CAAK,EACA,MAAOW,GAAQ,CACd,QAAQ,MAAMA,CAAG,EACjBD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,yCACT,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CAEbJ,GACN,CAAK,CACL,CAAC"}